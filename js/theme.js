;(function($){'use strict';const theme={init:()=>{theme.stickyNavbar();theme.filterableGrid();theme.customFileInput();theme.passwordVisibilityToggle();theme.fileDropArea();theme.labelUpdate();theme.formValidation();theme.inputFormatter();theme.multilevelDropdown();theme.offcanvas();theme.tooltips();theme.popovers();theme.smoothScroll();theme.scrollTopButton();theme.parallax();},stickyNavbar:()=>{let navbar=document.querySelector('.navbar-sticky');if(navbar==null)return;let navbarClass=navbar.classList,navbarH=navbar.offsetHeight,scrollOffset=500;if(navbarClass.contains('navbar-floating')&&navbarClass.contains('navbar-dark')){window.addEventListener('scroll',(e)=>{if(e.currentTarget.pageYOffset>scrollOffset){navbar.classList.remove('navbar-dark');navbar.classList.add('navbar-light');navbar.classList.add('navbar-stuck');}else{navbar.classList.remove('navbar-stuck');navbar.classList.remove('navbar-light');navbar.classList.add('navbar-dark');}});}else if(navbarClass.contains('navbar-floating')&&navbarClass.contains('navbar-light')){window.addEventListener('scroll',(e)=>{if(e.currentTarget.pageYOffset>scrollOffset){navbar.classList.add('navbar-stuck');}else{navbar.classList.remove('navbar-stuck');}});}else{window.addEventListener('scroll',(e)=>{if(e.currentTarget.pageYOffset>scrollOffset){document.body.style.paddingTop=navbarH+'px';navbar.classList.add('navbar-stuck');}else{document.body.style.paddingTop='';navbar.classList.remove('navbar-stuck');}});}},filterableGrid:()=>{let grid=document.querySelectorAll('[data-filter-grid]'),filterGrid;if(grid===null)return;for(let i=0;i<grid.length;i++){filterGrid=mixitup(grid[i],{selectors:{target:'.cs-grid-item'},controls:{scope:'local'},classNames:{block:'',elementFilter:'',modifierActive:'active'},animation:{duration:350}});}},customFileInput:()=>{if(typeof bsCustomFileInput!=='object')return;bsCustomFileInput.init();},passwordVisibilityToggle:()=>{let elements=document.querySelectorAll('.cs-password-toggle');for(let i=0;i<elements.length;i++){let passInput=elements[i].querySelector('.form-control'),passToggle=elements[i].querySelector('.cs-password-toggle-btn');passToggle.addEventListener('click',(e)=>{if(e.target.type!=='checkbox')return;if(e.target.checked){passInput.type='text';}else{passInput.type='password';}},false);}},fileDropArea:()=>{let fileArea=document.querySelectorAll('.cs-file-drop-area');for(let i=0;i<fileArea.length;i++){let input=fileArea[i].querySelector('.cs-file-drop-input'),message=fileArea[i].querySelector('.cs-file-drop-message'),icon=fileArea[i].querySelector('.cs-file-drop-icon'),button=fileArea[i].querySelector('.cs-file-drop-btn');button.addEventListener('click',function(){input.click();});input.addEventListener('change',function(){if(input.files&&input.files[0]){let reader=new FileReader();reader.onload=(e)=>{let fileData=e.target.result;let fileName=input.files[0].name;message.innerHTML=fileName;if(fileData.startsWith('data:image')){let image=new Image();image.src=fileData;image.onload=function(){icon.className='cs-file-drop-preview';icon.innerHTML='<img class="img-thumbnail rounded" src="'+image.src+'" alt="'+fileName+'">';}}else if(fileData.startsWith('data:video')){icon.innerHTML='';icon.className='';icon.className='cs-file-drop-icon cxi-video';}else{icon.innerHTML='';icon.className='';icon.className='cs-file-drop-icon cxi-files';}}
reader.readAsDataURL(input.files[0]);}});}},labelUpdate:()=>{let radioBtns=document.querySelectorAll('[data-label]');for(let i=0;i<radioBtns.length;i++){radioBtns[i].addEventListener('change',function(){let target=this.dataset.label;try{document.getElementById(target).textContent=this.value;}
catch(err){if(err.message="Cannot set property 'textContent' of null"){console.error('Make sure the [data-label] matches with the id of the target element you want to change text of!');}}});}},formValidation:()=>{let selector='needs-validation';window.addEventListener('load',()=>{let forms=document.getElementsByClassName(selector);let validation=Array.prototype.filter.call(forms,(form)=>{form.addEventListener('submit',(e)=>{if(form.checkValidity()===false){e.preventDefault();e.stopPropagation();}
form.classList.add('was-validated');},false);});},false);},inputFormatter:()=>{let input=document.querySelectorAll('[data-format]');if(input.length===0)return;for(let i=0;i<input.length;i++){let inputFormat=input[i].dataset.format,blocks=input[i].dataset.blocks,delimiter=input[i].dataset.delimiter;blocks=(blocks!==undefined)?blocks.split(' ').map(Number):'';delimiter=(delimiter!==undefined)?delimiter:' ';switch(inputFormat){case 'card':let card=new Cleave(input[i],{creditCard:true});break;case 'cvc':let cvc=new Cleave(input[i],{numeral:true,numeralIntegerScale:3});break;case 'date':let date=new Cleave(input[i],{date:true,datePattern:['m','y']});break;case 'date-long':let dateLong=new Cleave(input[i],{date:true,delimiter:'-',datePattern:['Y','m','d']});break;case 'time':let time=new Cleave(input[i],{time:true,datePattern:['h','m']});break;case 'custom':let custom=new Cleave(input[i],{delimiter:delimiter,blocks:blocks});break;default:console.error('Sorry, your format '+inputFormat+' is not available. You can add it to the theme object method - inputFormatter in src/js/theme.js or choose one from the list of available formats: card, cvc, date, date-long, time or custom.')}}},multilevelDropdown:function(){let selector=".dropdown-menu [data-toggle='dropdown']";$(selector).on('click',function(e){e.preventDefault();e.stopPropagation();$(this).siblings().toggleClass('show');if(!$(this).next().hasClass('show')){$(this).parents('.dropdown-menu').first().find('.show').removeClass('show');}
$(this).parents('li.nav-item.dropdown.show').on('hidden.bs.dropdown',function(){$('.dropdown-submenu .show').removeClass('show');});});},offcanvas:function(){const offcanvasTogglers=document.querySelectorAll('[data-toggle="offcanvas"]'),offcanvasDismissers=document.querySelectorAll('[data-dismiss="offcanvas"]'),offcanvas=document.querySelectorAll('.cs-offcanvas'),docBody=document.body,fixedElements=document.querySelectorAll('[data-fixed-element]'),hasScrollbar=window.innerWidth>docBody.clientWidth;const backdrop=document.createElement('div');backdrop.classList.add('cs-offcanvas-backdrop');const offcanvasOpen=(offcanvasID,toggler)=>{docBody.appendChild(backdrop);setTimeout(()=>{backdrop.classList.add('show');},20);document.getElementById(offcanvasID).classList.add('show');if(hasScrollbar){docBody.style.paddingRight='15px';if(fixedElements.length){for(let i=0;i<fixedElements.length;i++){fixedElements[i].classList.add('right-15');}}}
docBody.classList.add('cs-offcanvas-open');};const offcanvasClose=()=>{for(let i=0;i<offcanvas.length;i++){offcanvas[i].classList.remove('show');}
backdrop.classList.remove('show');setTimeout(()=>{docBody.removeChild(backdrop);},50);if(hasScrollbar){docBody.style.paddingRight=0;if(fixedElements.length){for(let i=0;i<fixedElements.length;i++){fixedElements[i].classList.remove('right-15');}}}
docBody.classList.remove('cs-offcanvas-open');}
for(let i=0;i<offcanvasTogglers.length;i++){offcanvasTogglers[i].addEventListener('click',(e)=>{e.preventDefault();offcanvasOpen(e.currentTarget.dataset.target,e.currentTarget);});}
for(let i=0;i<offcanvasDismissers.length;i++){offcanvasDismissers[i].addEventListener('click',(e)=>{e.preventDefault();offcanvasClose();});}
document.addEventListener('click',(e)=>{if(e.target.classList[0]==='cs-offcanvas-backdrop'){offcanvasClose();}});},tooltips:()=>{let selector=$('[data-toggle="tooltip"]');selector.tooltip({trigger:'hover'});},popovers:()=>{let selector=$('[data-toggle="popover"]');selector.popover();},smoothScroll:()=>{let selector='[data-scroll]',fixedHeader='[data-scroll-header]',scroll=new SmoothScroll(selector,{speed:700,speedAsDuration:true,offset:40,header:fixedHeader,updateURL:false});},scrollTopButton:()=>{let element=document.querySelector('.btn-scroll-top'),scrollOffset=600;if(element==null)return;let offsetFromTop=parseInt(scrollOffset,10);window.addEventListener('scroll',(e)=>{if(e.currentTarget.pageYOffset>offsetFromTop){element.classList.add('show');}else{element.classList.remove('show');}});},parallax:()=>{let element=document.querySelectorAll('.cs-parallax');for(let i=0;i<element.length;i++){let parallaxInstance=new Parallax(element[i]);}},}
theme.init();})(jQuery);